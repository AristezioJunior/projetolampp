package com.aristezio.lampp.domain.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.aristezio.lampp.domain.model.EncurtadorUrl;
import com.aristezio.lampp.domain.repository.EncurtadorUrlRepository;

@Service
public class EncurtadorUrlService {

	@Autowired
	private EncurtadorUrlRepository repository;


	@Transactional
	public EncurtadorUrl salvar(EncurtadorUrl encurtadorUrl) {
		Long startTime = System.currentTimeMillis();
        Long endTime = System.currentTimeMillis();
        Long timeTaken = endTime - startTime; 
        System.out.println(timeTaken.toString() + "ms");
		//verificando se o codigo jÃ¡ foi usado
        boolean codigoEmUso = repository.findByCodigo(encurtadorUrl.)
                .filter(p -> !p.equals(proprietario))
                .isPresent();
        
		return repository.save(encurtadorUrl);
	}
	
	
}
